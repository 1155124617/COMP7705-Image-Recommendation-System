<!DOCTYPE html>
<html>
<head>
    <meta charset="uft-8">
    <title>Image Recommendation System</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/css/styles.css">
</head>

<body>
    <div>
        <a href="/" class="btn btn-info">Go back to main page</a>
    </div>
    <div class="body-container">
        <div class="container button-container">
            <h1 class="text-center mt-5">Welcome to the Image Recommendation System!</h1>
            <br/>
            <div>
                <form action="/recommend_with_text" method="POST">
                    <input name="search_text">
                    <input type="submit" value="Search">
                </form>
            </div>
            <br>
            <form action="/upload_single_image" method="POST" enctype="multipart/form-data">
                <div class="form-group">
                    <input type="file" name="image" accept="image/*" required>
                </div>
                <button type="submit" class="btn btn-primary">Upload</button>
            </form>
            <br/>
            {% if img_data %}
                <img src="data:image/jpeg;base64,{{ img_data|base64_encode }}" alt="Uploaded Image" class="uploaded-img">
                <br/>
                <div class="text-center mt-3">
                    <a href="/recommend_similar" class="btn btn-success">Recommend similar images for me!</a>
                    <a href="/transfer_styles" class="btn btn-info">Transfer styles for me!</a>
                </div>
            {% endif %}

            {% if images_output_list %}
                <div class="row mt-5">
                    {% for img_output in images_output_list %}
                        <div class="col-md-4">
                            <img src="data:image/jpeg;base64,{{ img_output|base64_encode }}" alt="Uploaded Image" class="uploaded-img">
                        </div>
                    {% endfor  %}
                </div>
            {% endif %}
        </div>
    </div>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
</body>

</html>
